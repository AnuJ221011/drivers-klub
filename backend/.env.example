# ============================================
# DATABASE CONFIGURATION
# ============================================
DATABASE_URL="postgresql://user:pass@localhost:5432/driversklub?schema=public"

# ============================================
# APP CONFIGURATION
# ============================================
# Main API Gateway port (default: 3000)
PORT=5000

# Environment: development, staging, production
NODE_ENV=development

# ============================================
# CORS CONFIGURATION
# ============================================
# Comma-separated list of allowed origins for CORS
# Use "*" to allow all origins (not recommended for production)
# Example: "http://localhost:3000,https://app.driversklub.com"
ALLOWED_ORIGINS="http://localhost:3000,http://localhost:3001"

# ============================================
# AUTHENTICATION (JWT)
# ============================================
JWT_ACCESS_SECRET="changeme_access_secret"
JWT_REFRESH_SECRET="changeme_refresh_secret"
JWT_ACCESS_EXPIRES_IN="15m"

# ============================================
# OTP SERVICE (EXOTEL)
# ============================================
# Exotel SMS API credentials for OTP delivery
EXOTEL_ACCOUNT_SID="your_exotel_sid"
EXOTEL_API_KEY="your_exotel_api_key"
EXOTEL_API_TOKEN="your_exotel_api_token"
EXOTEL_SENDER_ID="your_sender_id"
EXOTEL_BASE_URL="https://api.exotel.com"  # Use your Exotel subdomain host (no /v1 path)
EXOTEL_SMS_ENDPOINT="sendCopy"           # Exotel endpoint: send or sendCopy
EXOTEL_SMS_BODY_TEMPLATE="Dear user, Your OTP for login to Driver's Klub platform is {{otp}}, Regards, Tribore Technologies"
EXOTEL_DLT_ENTITY_ID="1201176743770211765"
EXOTEL_DLT_TEMPLATE_ID="1207176846653816115"
EXOTEL_SMS_TYPE="transactional"
EXOTEL_SMS_PRIORITY="high"
EXOTEL_ENCODING_TYPE="plain"
EXOTEL_CUSTOM_FIELD="OTP"
EXOTEL_STATUS_CALLBACK_URL=""

# OTP Configuration
OTP_EXPIRY_MINUTES=5
OTP_MAX_ATTEMPTS=3
OTP_BYPASS_KEY="dev_bypass_key"  # Only works in non-production environments and set it to pass 

# ============================================
# EXTERNAL PROVIDERS - MOJOBOXX
# ============================================
MOJOBOXX_BASE_URL="https://api.mojoboxx.com"
MOJOBOXX_USERNAME="your_username"
MOJOBOXX_PASSWORD="your_password"

# ============================================
# EXTERNAL PROVIDERS - MMT (MakeMyTrip)
# ============================================
# Outbound API (Us -> MMT) - OAuth credentials for API calls
MMT_BASE_URL="https://api.mmt.com"
MMT_AUTH_URL="https://api-cert.makemytrip.com/v1/auth"
MMT_CLIENT_ID="your_mmt_client_id"
MMT_CLIENT_SECRET="your_mmt_client_secret"

# Outbound Webhooks (Us -> MMT) - Trip status notifications
MMT_WEBHOOK_URL="https://api.makemytrip.com/webhooks/driversklub"
MMT_API_KEY="your_mmt_api_key"

# Inbound API (MMT -> Us) - Basic Auth credentials for MMT to call us
MMT_INBOUND_USERNAME="mmt_user"
MMT_INBOUND_PASSWORD="mmt_password"

# ============================================
# EXTERNAL PROVIDERS - RAPIDO
# ============================================
# Rapido Fleet API integration for driver availability management
# Base URL for Rapido Fleet API endpoints
RAPIDO_BASE_URL="https://gateway.rapido.bike/api/v1/fleet"

# API Key for authenticating with Rapido Fleet API
# Required for all captain status changes and order callbacks
RAPIDO_API_KEY="your_rapido_api_key"

# Buffer time (in minutes) before internal trip starts
# Drivers will be automatically switched to offline on Rapido
# this many minutes before their scheduled internal trip pickup time
# Default: 45 minutes (prevents Rapido from assigning conflicting trips)
RAPIDO_PRE_TRIP_BUFFER_MINUTES=45

# ============================================
# TIMEZONE CONFIGURATION
# ============================================
# System timezone (used by Node.js process)
TZ=Asia/Kolkata

# Application timezone (used by TimeUtil for all date operations)
# Default: Asia/Kolkata (IST, UTC+5:30)
APP_TIMEZONE=Asia/Kolkata

# ============================================
# BACKGROUND WORKER (Provider Status Sync)
# ============================================
# Enable/disable automatic provider status synchronization
WORKER_ENABLED=true

# Sync interval in milliseconds (300000ms = 5 minutes)
WORKER_SYNC_INTERVAL_MS=300000

# ============================================
# PAYMENT GATEWAY (EASEBUZZ)
# ============================================
EASEBUZZ_MERCHANT_KEY="your_easebuzz_merchant_key"
EASEBUZZ_SALT_KEY="your_easebuzz_salt_key"
EASEBUZZ_ENV="test"  # Options: test, production

# ============================================
# PAYMENT SYSTEM - REDIRECT URLs
# ============================================
# URLs for payment success/failure redirects
PAYMENT_SUCCESS_URL="http://localhost:3000/payment/success"
PAYMENT_FAILURE_URL="http://localhost:3000/payment/failure"


# ============================================
# EXTERNAL PROVIDERS - GOOGLE (OPTIONAL)
# ============================================
# Google Maps API Key for Distance Matrix (OPTIONAL)
# If provided, the pricing engine will calculate accurate distances via Google Maps
# If NOT provided, pricing will use client-provided distanceKm as fallback
#
# To enable:
# 1. Get API key from Google Cloud Console
# 2. Enable "Distance Matrix API" in your project
# 3. Set the key below
#
# Features when enabled:
# - Automatic distance calculation from pickup/drop locations
# - 24-hour caching to reduce API costs
# - Automatic fallback to client distance if Google fails
GOOGLE_MAPS_API_KEY="your_google_maps_api_key_here"

# ============================================
# AWS CONFIGURATION (S3 & DEPLOYMENT)
# ============================================
AWS_ACCESS_KEY_ID="your_access_key_id"
AWS_SECRET_ACCESS_KEY="your_secret_access_key"
AWS_DEFAULT_REGION="ap-south-1"
AWS_S3_BUCKET_NAME="driversklub-assets"

